import{_ as P,a1 as u,o as d,c as f,a as l,Q as c,j as S,k as n,a4 as i,a5 as g,S as k,W as y,P as N,a8 as I,J as U,a9 as D,a3 as h,F as j,h as L}from"./index-DDcTqExs.js";import{a as T,b as O}from"./index-CqgOSKKq.js";const G={class:""},Q={class:"intro-box","data-aos":"fade-up","data-aos-delay":"100"},R={class:"text-2xl"},W={key:0},q={key:1},A={class:"grid grid-cols-2 gap-4"},H={class:"text-surface-500 dark:text-surface-400 block mb-8"},M={class:"flex flex-col items-center w-full gap-4 mb-4"},X={class:"flex justify-end gap-2"},Y={class:"text-surface-500 dark:text-surface-400 block mb-8"},Z={class:"flex flex-row items-center w-full gap-4 mb-4"},_={class:"flex justify-end gap-2"},ee={__name:"KursBoxEdit",props:{title:String,description:String,lecturer:String,room:String,day:String,time:String,exam:Object},setup(o){const m=o,t=u(JSON.parse(localStorage.getItem("courses")));u(JSON.parse(localStorage.getItem("student")));const v=u(!1),x=u(!1),r=u(!1),b=u(!1),p=u(!1),V=u(null),C=u(""),w=u(null),$=()=>{x.value=!0,setTimeout(()=>{x.value=!1},2e3)},F=a=>a?new Intl.DateTimeFormat("de-DE",{hour:"2-digit",minute:"2-digit",hour12:!1}).format(a):"",J=a=>a?new Intl.DateTimeFormat("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}).format(a):"",z=async()=>{b.value=!0;const a=u({examDate:J(V.value),examTime:F(C.value)});for(let e in t.value)t.value[e].title===m.title&&(t.value[e].exam=a,console.log(t),localStorage.setItem("courses",JSON.stringify(t.value)));await new Promise(e=>setTimeout(e,2e3)),b.value=!1,v.value=!1,location.reload()},B=()=>{for(let a in t.value)t.value[a].title===m.title&&(console.log(a),delete t.value[a].exam,console.log("Test"),console.log(t.value),localStorage.setItem("courses",JSON.stringify(t.value)));location.reload()};u(!1);const E=()=>{console.log("Grade");for(let a in t.value)t.value[a].title===m.title&&(t.value[a].grade=w.value,console.log(t),localStorage.setItem("courses",JSON.stringify(t.value)))},K=()=>{r.value=!0;for(let a in t.value)if(t.value[a].title===m.title){console.log(a);let e=t.value.toSpliced(a,1);console.log(e),localStorage.setItem("courses",JSON.stringify(e))}setTimeout(()=>{r.value=!1},2e3),location.reload()};return(a,e)=>(d(),f("div",G,[l("div",Q,[l("h2",R,c(o.title),1),e[17]||(e[17]=l("hr",null,null,-1)),l("ul",null,[l("li",null,"Beschreibung: "+c(o.description),1),l("li",null,"Dozierender: "+c(o.lecturer),1),l("li",null,"Raum: "+c(o.room),1),l("li",null,"Tag: "+c(o.day),1),l("li",null,"Uhrzeit: "+c(o.time),1),o.exam?(d(),f("li",W,"Prüfungsdatum: "+c(o.exam.examDate),1)):S("",!0),o.exam?(d(),f("li",q,"Prüfungsuhrzeit: "+c(o.exam.examTime),1)):S("",!0)]),l("div",A,[n(i(g),{type:"button",label:"Bearbeiten",icon:"pi pi-pencil",loading:x.value,onClick:$},null,8,["loading"]),o.exam?S("",!0):(d(),k(i(g),{key:0,type:"button",label:"Prüfung",icon:"pi pi-plus-circle",onClick:e[0]||(e[0]=s=>v.value=!0)})),n(i(I),{visible:v.value,"onUpdate:visible":e[4]||(e[4]=s=>v.value=s),modal:"",header:"Prüfung hinzufügen",style:{width:"25rem"}},{default:y(()=>[l("span",H,[e[9]||(e[9]=N(" Fügen Sie der Prüfung für den Kurs ")),l("strong",null,c(o.title),1),e[10]||(e[10]=N(" einen Termin hinzu "))]),l("div",M,[n(i(T),{variant:"in"},{default:y(()=>[n(i(O),{id:"date",class:"flex-auto",modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=s=>V.value=s),dateFormat:"dd/mm/yy"},null,8,["modelValue"]),e[11]||(e[11]=l("label",null,"Datum",-1))]),_:1}),n(i(T),{variant:"in"},{default:y(()=>[n(i(O),{id:"email",class:"flex-auto",modelValue:C.value,"onUpdate:modelValue":e[2]||(e[2]=s=>C.value=s),timeOnly:""},null,8,["modelValue"]),e[12]||(e[12]=l("label",null,"Uhrzeit",-1))]),_:1})]),l("div",X,[n(i(g),{type:"button",label:"Cancel",severity:"secondary",onClick:e[3]||(e[3]=s=>v.value=!1)}),n(i(g),{type:"button",label:"Save",loading:b.value,onClick:z},null,8,["loading"])])]),_:1},8,["visible"]),o.exam?(d(),k(i(g),{key:1,type:"button",label:"Prüfung löschen",icon:"pi pi-trash",onClick:B})):S("",!0),o.exam?(d(),k(i(g),{key:3,type:"button",label:"Noten",icon:"pi pi-trophy",onClick:e[5]||(e[5]=s=>p.value=!0)})):(d(),k(i(g),{key:2,disabled:"",label:"Noten",icon:"pi pi-trophy"})),n(i(I),{visible:p.value,"onUpdate:visible":e[8]||(e[8]=s=>p.value=s),modal:"",header:"Noten hinzufügen",style:{width:"25rem"}},{default:y(()=>[l("span",Y,[e[13]||(e[13]=N(" Fügen Sie Noten für die Studierenden des Kurses ")),l("strong",null,c(o.title),1),e[14]||(e[14]=N(" hinzu "))]),l("div",Z,[e[16]||(e[16]=l("p",null,"Student: ",-1)),n(i(T),{variant:"in"},{default:y(()=>[n(i(U),{id:"grade",class:"flex-auto",modelValue:w.value,"onUpdate:modelValue":e[6]||(e[6]=s=>w.value=s),dateFormat:"dd/mm/yy"},null,8,["modelValue"]),e[15]||(e[15]=l("label",null,"Note",-1))]),_:1})]),l("div",_,[n(i(g),{type:"button",label:"Cancel",severity:"secondary",onClick:e[7]||(e[7]=s=>p.value=!1)}),n(i(g),{type:"button",label:"Save",loading:b.value,onClick:E},null,8,["loading"])])]),_:1},8,["visible"]),n(i(g),{type:"button",label:"Löschen",icon:"pi pi-trash",loading:r.value,onClick:K},null,8,["loading"])])])]))}},te=P(ee,[["__scopeId","data-v-c0e24355"]]),le={class:"grid grid-cols-2 gap-8 mt-10"},ae={__name:"KursEdit",setup(o){const m=u([]);let t=localStorage.getItem("courses");return t?m.value=JSON.parse(t):(m.value=D.value,localStorage.setItem("courses",JSON.stringify(D.value))),h(m,v=>{localStorage.setItem("courses",JSON.stringify(v))},{deep:!0}),(v,x)=>(d(),f("div",le,[(d(!0),f(j,null,L(m.value,r=>(d(),f("div",{key:r.title},[n(te,{title:r.title,description:r.description,lecturer:r.lecturer,room:r.room,day:r.day,time:r.time,exam:r.exam},null,8,["title","description","lecturer","room","day","time","exam"])]))),128))]))}},ne={__name:"EditKursView",setup(o){return(m,t)=>(d(),f("div",null,[t[0]||(t[0]=l("h1",{class:"text-center"},"Kursübersicht",-1)),n(ae)]))}};export{ne as default};
